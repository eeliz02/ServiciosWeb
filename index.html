<!DOCTYPE html>  
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Servicios Web para Geolocalización, Clima y Estadísticas</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            text-align: justify;
        }

        header {
            background-color: #34495e;
            color: #ecf0f1;
            padding: 10px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            padding: 0;
            margin: 0;
        }

        header nav ul li {
            margin: 0 15px;
        }

        header nav ul li a {
            color: #ecf0f1;
            text-decoration: none;
            font-weight: bold;
        }

        header nav ul li a:hover {
            text-decoration: underline;
        }

        section {
            margin: 20px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f9f9f9;
        }

        .hero {
            position: relative;
            height: 75vh;
            background-image: url('imagenes/fondo.png');
            background-size: cover;
            background-position: center;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
        }

        .hero h1 {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
        }

        .hero #visitCount {
            display: block;
            margin-top: 10px;
            font-size: 1.5rem;
        }

        footer {
            background-color: #34495e;
            color: #ecf0f1;
            text-align: center;
            padding: 10px 0;
            margin-top: 20px;
        }

        #map {
            width: 100%;
            height: 400px;
            margin: 10px 0;
            border: 1px solid #ccc;
        }

        /* Centrar imágenes y el video */
        img, iframe {
            display: block;
            margin: 0 auto;
        }

        #weather, #counter {
            text-align: center;
        }

    </style>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="#hero">Inicio</a></li>
                <li><a href="#services">Servicios</a></li>
                <li><a href="#realtime">Tiempo Real</a></li>
                <li><a href="#downloads">Recursos</a></li>
                <li><a href="#form-section">Contacto</a></li>
            </ul>
        </nav>
    </header>

    <section id="hero" class="hero">
        <h1>Servicios Web</h1>
    </section>

    <section id="services">
        <h2>Servicios Web</h2>
        <h3>Ubicación Satelital</h3>
        <p>Un servicio web de ubicación satelital es una herramienta que utiliza la tecnología de los Sistemas de Posicionamiento Global (GPS) para localizar objetos en la Tierra.
            Un sistema de rastreo satelital GPS cuenta con distintos componentes de hardware y software que le permiten medir, registrar y procesar los datos que recopila de ubicación y estatus, y los transmite a un servidor en tiempo real para su distri­bución mediante conexión de radio satelital. 
            Funciona gracias a satélites que orbitan la Tierra y envían señales a dispositivos GPS, que calculan la posición exacta del objeto mediante la triangulación de datos.</p>
        <p>El GPS está presente en muchos dispositivos, como coches, smartphones y relojes. También se puede utilizar en empresas para controlar flotas de vehículos.</p>
        <p><a href="https://www.webfleet.com/es_mx/webfleet/fleet-management/glossary/gps-satellite/" target="_blank">Para más información, visita</a></p>
        <h3>Cartografía</h3>
        <p>Un servicio web de cartografía es un servicio que permite generar mapas dinámicos a partir de información geográfica: 
            Se basa en el estándar Web Map Service (WMS) definido por el Open Geospatial Consortium (OGC) </p>
        <p>Permite crear mapas personalizados a partir de datos de distintas fuentes 
            Los mapas se generan en formato de imagen como PNG, GIF o JPEG 
            Se pueden visualizar a través de Sistemas de Información Geográfica (SIG) de tipo escritorio</p>
        <img src="imagenes/cartografia.png" alt="Ejemplo de cartografía">
        <p><a href="https://www.inegi.org.mx/servicios/wsinfogeo/default.html#:~:text=Estos%20servicios%20permiten%20generar%20mapas,datos%20tomados%20de%20distintas%20fuentes." target="_blank">Para más información, visita</a></p>
        <h3>Estado del Clima</h3>
        <p>Un servicio web de estado del clima es una herramienta que ofrece información climática para ayudar a las personas y organizaciones a tomar decisiones. </p>
        <p>Los servicios climáticos se basan en información climática que se adapta a las necesidades de los usuarios, y que se centra en facilitar el acceso a la información ya existente.</p>
        <p>El Marco Mundial para los Servicios Climáticos (MMSC) define los principales servicios climáticos en los siguientes sectores: </p>
        <ul>
            <li>Agricultura y seguridad alimentaria</li>
            <li>Reducción de riesgo de desastres</li>
            <li>Energía</li>
            <li>Salud</li>
            <li>Recursos hídricos.</li>
        </ul>
        <img src="imagenes/clima.png" alt="Ejemplo de clima">
        <p><a href="https://ciifen.org/servicios-climaticos-2/" target="_blank">Para más información, visita</a></p>
        <h3>Tabla comparativa</h3>
        <table border="1">
            <tr>
                <th>Criterio</th>
                <th>Ubicación Satelital</th>
                <th>Cartografía</th>
                <th>Estado del Clima</th>
            </tr>
            <tr>
                <td>Descripción</td>
                <td>Servicios que determinan la ubicación geográfica de un dispositivo o lugar mediante GPS o redes satelitales.</td>
                <td>Servicios que ofrecen mapas interactivos y datos geoespaciales.</td>
                <td>Servicios que proporcionan datos meteorológicos actuales, históricos y predicciones.</td>
            </tr>
            <tr>
                <td>Ejemplos</td>
                <td>Google Maps API, HERE Location Services, Mapbox Geocoding API</td>
                <td>Google Maps API, OpenStreetMap, ESRI ArcGIS Online, OpenWeatherMap API</td>
                <td>OpenWeatherMap API,Weatherstack API, AccuWeather API</td>
            </tr>
            <tr>
                <td>Principales funciones</td>
                <td>Determinación de coordenadas (latitud y longitud), Navegación en tiempo real, Rastreo de dispositivos.</td>
                <td>Visualización de mapas, Capas personalizadas (satélite, terreno, tráfico), Geocodificación inversa.</td>
                <td>Temperatura actual, Pronósticos del clima, Alertas meteorológicas.</td>
            </tr>
        </table>
    </section>

    <section id="realtime">
        <h2>Servicios Web en Tiempo Real</h2>
        <div id="map"></div>
        <div id="weather">
            <h3>Estado del Clima</h3>
            <p id="location">Ubicación: Cargando...</p>
            <p id="temperature">Temperatura: Cargando...</p>
            <p id="condition">Condición: Cargando...</p>
        </div>
        <div id="counter">
            <h3>Contador de Visitas</h3>
            <p>La página ha sido visitada <span id="visitCountRealtime">0</span> veces.</p>
        </div>
    </section>

    <section id="downloads">
        <h2>Recursos Multimedia y Documentos de Interés</h2>
        <p>Los siguientes archivos están disponibles para su descarga:</p>
        <ul>
            <li><a href="/downloads/infografia.png" class="download-link" download>Descargar infografia sobre servicios web</a></li>
            <li><a href="/downloads/Capitulo.pdf" class="download-link" download>Descargar documento PDF sobre servicios web</a></li>
        </ul>
        <h3>Video Relacionado</h3>
        <iframe width="560" height="315" src="https://www.youtube.com/embed/BTyogX21qDk" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </section>

    <section id="form-section">
        <h2>Formulario de Contacto</h2>
        <form action="server-side-script.php" method="POST" enctype="multipart/form-data">
            <label for="name">Nombre Completo:</label>
            <input type="text" id="name" name="name" required><br><br>
    
            <label for="email">Correo Electrónico:</label>
            <input type="email" id="email" name="email" required><br><br>
    
            <label for="service">Servicio de Interés:</label>
            <select id="service" name="service">
                <option value="ubicacion">Ubicación Satelital</option>
                <option value="clima">Clima</option>
                <option value="contador">Contador de Vistas</option>
            </select><br><br>
    
            <label for="message">Mensaje:</label><br>
            <textarea id="message" name="message" rows="4" cols="50" required></textarea><br><br>
    
            <label for="file">Adjuntar archivo:</label>
            <input type="file" id="file" name="file"><br><br>
    
            <button type="submit">Enviar Mensaje</button>
        </form>
        <div id="form-message" style="display:none; color: green; font-weight: bold; margin-top: 10px;">
            Gracias, tu información ha sido enviada.
        </div>
    </section>

    <footer>
        By Tese
    </footer>

    <script>
        document.querySelector('form').addEventListener('submit', function(event) {
            event.preventDefault(); // Evitar el envío inmediato del formulario

            // Mostrar el mensaje en el contenedor
            const messageContainer = document.getElementById('form-message');
            messageContainer.style.display = 'block';

            // Opcional: limpiar los campos del formulario
            this.reset();

            // Enviar los datos al servidor (si fuera necesario, puedes manejar el envío aquí)
            setTimeout(() => {
                this.submit(); // Enviar el formulario tras un breve tiempo, si es necesario
            }, 2000); // Ajusta el tiempo según sea necesario
        });
        
        function initMap(lat, lon) {
            const map = L.map('map').setView([lat, lon], 13);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);
            L.marker([lat, lon]).addTo(map)
                .bindPopup('Ecatepec, México')
                .openPopup();
        }

        async function fetchWeather() {
            const lat = 19.511017312729066;
            const lon = -99.04058981641735;
            try {
                const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=8b6921d298d6604cf3b59d11d6ed0724`);
                const data = await response.json();
                document.getElementById('location').textContent = `Ubicación: Ecatepec, México`;
                document.getElementById('temperature').textContent = `Temperatura: ${data.main.temp} °C`;
                document.getElementById('condition').textContent = `Condición: ${data.weather[0].description}`;
            } catch (error) {
                console.error('Error al obtener el clima:', error);
            }
        }

        function updateVisitCount() {
            let visitCount = localStorage.getItem('visitCount');
            if (!visitCount) {
                visitCount = 0;
            }
            visitCount++;
            localStorage.setItem('visitCount', visitCount);
            document.getElementById('visitCountRealtime').textContent = visitCount;
        }

        function init() {
            const defaultLat = 19.511017312729066;
            const defaultLon = -99.04058981641735;
            initMap(defaultLat, defaultLon);
            fetchWeather();
            updateVisitCount();
        }

        window.onload = function() {
            init();
        };
    </script>
</body>
</html>